<!DOCTYPE html>
<html lang="en">

<head>
    <title>Configuración Oráculo</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:300,400|Roboto:400,700">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<style>
    input {
        display: block;
        margin-bottom: 12px;
    }
    
    .btn-mi {
        max-width: 50%;
        width: 50%;
        align-items: center;
    }

    .table-mi {
        max-width: 50%;
        width: 50%;
        margin: auto;
    }
    
    .font-mi {
        font-size: 75%;
    }
    
    .font-mi-1 {
        line-height: 1;
        font-size: 95%;
    }

    .margin-top-1 {
        margin-top: 1rem;
    }

    .margin-mi {
        margin: 0.1rem;
    }
    
    .line-mi {
        line-height: 1;
    }
    
    .center-mi {
        position: fixed;
        text-align: center;
        margin: auto;
    }
    
    .center-align {
        text-align: center;
    }

    .right-align {
        text-align: right;
    }

    .left-align {
        text-align: left;
    }    
    
    .padding-mi {
        padding-top: 2rem;
        padding-bottom: 2rem;
        padding-right: 1rem;
        padding-left: 1rem;
    }
    
    .w-10 {
        width: 10% !important;
    }

    .w-15 {
        width: 15% !important;
    }
    
    .w-20 {
        width: 20% !important;
    }
    
    .w-30 {
        width: 30% !important;
    }
    
    .w-40 {
        width: 40% !important;
    }
    
    .w-45 {
        width: 45% !important;
    }

    .w-60 {
        width: 60% !important;
    }    

    .w-100 {
        width: 100% !important;
    }

    .btn-primary:disabled {
        background-color: #A4A4A4;
    }

    .event-log {
        height: 20rem;
    }

</style>

<body>

    <nav class="navbar navbar-dark bg-primary text-white">
        <h4>Configuración Oráculo</h4>
    </nav>

    <div class="row h-100 margin-mi">

        <div class="container-fluid">
            <table class="table-sm">
                <tr>
                    <td class="col-sm-1"><b><span>Cuenta:</span></b></td>
                    <td class="col-sm-3"><span id="cuenta">0x000000000000000000000000000000</span></td>
                    <td class="col-sm-1"><b><span>Red:</span></b></td>
                    <td class="col-sm-2" id="red">unknow</td>
                    <td class="col-sm-1"><b><span>Estado:</span></b></td>
                    <td class="col-sm-4" id="status">Cargando...</td>
                </tr>
            </table>
        </div>

        <div class="jumbotron min-100 margin-mi padding-mi"> 

            <div>
                <h4>Parámetros Asignación De Puntos</h4>
            </div>

            <div>

                <div class="row">
                    <div class="col-2">
                        <strong></strong>
                    </div>
                    <div class="col-2">
                        <strong>Puntos Actuales</strong>
                    </div>
                    <div class="col-2">
                        <strong>Puntos Mínimos</strong>
                    </div>
                    <div class="col-2">
                        <strong>Puntos Máximos</strong>
                    </div>
                    <div class="col-2">
                        <strong>Precio Mínimo</strong>
                    </div>
                    <div class="col-2">
                        <strong>Precio Máximo</strong>
                    </div>                        
                </div>

                <div class="row">
                    <div class="col-2">
                        <strong>PET Pequeño</strong>
                    </div>
                    <div class="col-2">
                        <input type="number" id="points1" value="1" class="form-control" readonly />
                    </div>                    
                    <div class="col-2">
                        <input type="number" id="points-min1" value="1" required="" min="1" max="100" placeholder="Puntos mínimos" class="form-control" autofocus />
                    </div>
                    <div class="col-2">
                        <input type="number" id="points-max1" value="1" required="" min="1" max="100" placeholder="Puntos máximos" class="form-control" />
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-min1" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" />
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-max1" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-2">
                        <strong>PET Grande</strong>
                    </div>
                    <div class="col-2">
                        <input type="number" id="points2" value="1" class="form-control" readonly />
                    </div>                    
                    <div class="col-2">
                        <input type="number" id="points-min2" value="1" required="" min="1" max="100" placeholder="Puntos mínimos" class="form-control" autofocus />
                    </div>
                    <div class="col-2">
                        <input type="number" id="points-max2" value="1" required="" min="1" max="100" placeholder="Puntos máximos" class="form-control" />
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-min2" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" readonly/>
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-max2" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" readonly/>
                    </div>
                </div>     
                
                <div class="row">
                    <div class="col-2">
                        <strong>Latas</strong>
                    </div>
                    <div class="col-2">
                        <input type="number" id="points3" value="1" class="form-control" readonly />
                    </div>                    
                    <div class="col-2">
                        <input type="number" id="points-min3" value="1" required="" min="1" max="100" placeholder="Puntos mínimos" class="form-control" autofocus />
                    </div>
                    <div class="col-2">
                        <input type="number" id="points-max3" value="1" required="" min="1" max="100" placeholder="Puntos máximos" class="form-control" />
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-min3" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" />
                    </div>
                    <div class="col-2">
                        <input type="number" id="price-max3" value="0" required="" min="0" max="10000" placeholder="Precio mínimo" class="form-control" />
                    </div>
                </div>    

                <div>
                    <button id="updateButton1" onclick="App.updatePointValues()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Actualizar</button>
                </div>

            </div>   

        </div>
            
        <div class="jumbotron min-75 margin-mi padding-mi">

            <div class="center-align">
                <h4>Precios de Referencia Ether</h4>
            </div>
            
            <div class="row">
                <div class="col-3 center-align">
                    <strong>Precio Mínimo</strong>
                </div>
                <div class="col-3">
                    <input type="number" id="priceethmin" value="0" required="" min="0" max="1500" placeholder="Precio Ether mínimo" class="form-control" />
                </div>
                <div class="col-3 center-align">
                    <strong>Precio Máximo</strong>
                </div>
                <div class="col-3">
                    <input type="number" id="priceethmax" value="0" required="" min="0" max="1500" placeholder="Precio Ether máximo" class="form-control" />
                </div>
            </div>
            
            <div>
                <button id="updateButton2" onclick="App.updateEthPrices()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Actualizar</button>
            </div>

        </div>

        <div class="jumbotron min-100 margin-mi padding-mi">

            <div class="center-align">
                <h4>Otros Parámetros</h4>
            </div>
                
            <div>
                <div class="row">
                    <div class="col-7">
                        <strong>Frecuencia actualización puntos:</strong>
                    </div>
                    <div class="col-3">
                        <input type="number" id="blocks-period" value="40000" required="" min="1" max="100000" placeholder="Frecuencia (bloques) con que se deben actualizar los puntos" class="form-control" />
                    </div>  
                    <div class="col-1">
                        <span>Bloques</span>
                    </div> 
                </div>

                <div class="row">
                    <div class="col-7">
                        <strong>Frecuencia mínima ejecución oráculo:</strong>
                    </div>
                    <div class="col-3">
                        <input type="number" id="blocks-request" value="1" required="" min="1" max="100000" placeholder="Frecuencia (bloques) mínima para peticiones" class="form-control" />
                    </div>
                    <div class="col-1">
                        <span>Bloques</span>
                    </div>
                </div>

                <div class="row">
                    <div class="col-7">
                        <strong>Límite Gas (Bajo):</strong>
                    </div>
                    <div class="col-3">
                        <input type="number" id="limit-gas-low" value="100000" required="" min="100000" max="1000000" placeholder="Frecuencia (bloques) con que se deben actualizar los puntos" class="form-control" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-7">
                        <strong>Límite Gas (Medio):</strong>
                    </div>
                    <div class="col-3">
                        <input type="number" id="limit-gas-med" value="100000" required="" min="100000" max="1000000" placeholder="Límite gas para queries con consumo medio" class="form-control" />
                    </div>
                </div>

                <div class="row">
                    <div class="col-7">
                        <strong>Límite Gas (Medio):</strong>
                    </div>
                    <div class="col-3">
                        <input type="number" id="limit-gas-high" value="100000" required="" min="100000" max="1000000" placeholder="Límite gas para queries con consumo alto" class="form-control" />
                    </div>
                </div>

                <div>
                    <button id="updateButton3" onclick="App.updateOtherValues()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Actualizar</button>
                </div>

            </div>
        </div>

        <div class="jumbotron min-25 margin-mi padding-mi">
            <div class="center-align">
                <h4>Información Oráculo</h4>
            </div>
            <div class="center-align">
                <table class="table table-hover table-mi" id="table-info2">
                    <tr>
                        <td class="w-60 left-align">Queries pendientes:</td>
                        <td class="w-40 right-align"><b><span id="pending-queries">0</span></td>
                    </tr>
                    <tr>
                        <td class="w-60 left-align">Saldo:</td>
                        <td class="w-40 right-align"><b><span id="balance">0</span></td>
                    </tr>
                    <tr>
                        <td class="w-60 left-align">Último control (bloque):</td>
                        <td class="w-40 right-align"><b><span id="prev-block">0</span></td>
                    </tr>
                    <tr>
                        <td class="w-60 left-align">Próximo control (bloque):</td>
                        <td class="w-40 right-align"><b><span id="next-block">0</span></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="pauseButton" onclick="App.pause()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Pause</button>
            </div>
        </div>

        <div class="jumbotron min-100 margin-mi padding-mi">

            <div class="center-align">
                <h4>Matenimiento Admin</h4>
            </div>
                
            <div>
                <label for="address-admin">Address:</label>
                <input
                  type="text"
                  value="";
                  id="address-admin"
                  placeholder="e.g. 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae"
                  required
                />
            </div>

            <div>
                <button id="add-admin" onclick="App.addAdmin()" class="btn btn-primary btn-lg btn-block btn-mi m-auto" disabled>Agregar</button>
            </div>
        </div>

        <script src="oracle.js"></script>
</body>
</html>